# ##################################
# same but different
alias cdmaster="cd ~/Dropbox/uni/MasterThesis/"
# Path to your oh-my-zsh installation.
export ZSH=/home/julgoe/.oh-my-zsh

# ##################################
# very different
[[ $PATH == *"/home/julgoe/nest/bin"* ]] || source $HOME/nest/bin/nest_vars.sh
[[ $PATH == *"/home/julgoe/nest/bin"* ]] || source $HOME/neuron/nrnenv
alias bluetoothqc="~/based-connect-master/based-connect $(echo 'quit' | bluetoothctl | grep -oE '\S* [LE-]*Bose (QC|QuietComfort)35'|grep -o '\S*:\S*')"

alias cdmaster_hel="cd ~/mntHel/"

if [[ $PATH != *"pip_files"* ]]; then
	PATH=$PATH:~/pip_files
	export PYTHONPATH=$PYTHONPATH:~/pip_files/
	export PYTHONPATH=$PYTHONPATH:~/pip_files/lib/python3.5/site-packages/
fi

# autojump 
source /usr/share/autojump/autojump.sh

eval $(thefuck --alias) # for corrcet bindings

function proxySwitch {
	# in order to ssh through proxy
	# ssh git@github.com -o "ProxyCommand=connect -5S proxy.kip.uni-heidelberg.de:1080 %h %p"
	if [ -z "$http_proxy" ]; then
		echo "No proxy is set, now setting in shell, git and apt"
		export ftp_proxy=http://proxy.kip.uni-heidelberg.de:2121
		export http_proxy=http://proxy.kip.uni-heidelberg.de:8080
	       	export https_proxy=https://proxy.kip.uni-heidelberg.de:8080

		export GIT_SSH_COMMAND="ssh -F ~/.ssh/config_prox"

		# setting the proxy in the file /etc/apt/apt.conf
		# this will only work if it is writeable
		# i.e. chmod u+x /etc/apt/apt.conf has been called
		# (temporaruly writes to a /tmp file, this way no sudo is necessary)
		escaped_http=${http_proxy/\/\//\\\/\\\/}
		escaped_https=${https_proxy/\/\//\\\/\\\/}
		cp /etc/apt/apt.conf /tmp/aptconfInplaceReplace
		sed -i -e 's/Acquire::http::Proxy "[a-zA-Z0-9:/.-]*";/Acquire::http::Proxy "'$escaped_http'";/g' /tmp/aptconfInplaceReplace
		sed -i -e 's/Acquire::https::Proxy "[a-zA-Z0-9:/.-]*";/Acquire::https::Proxy "'$escaped_https'";/g' /tmp/aptconfInplaceReplace
		cat /tmp/aptconfInplaceReplace > /etc/apt/apt.conf
		rm /tmp/aptconfInplaceReplace
	else
		echo "Proxy is set, now removing them"
		export ftp_proxy=
		export http_proxy=
	       	export https_proxy=

		unset GIT_SSH_COMMAND

		cp /etc/apt/apt.conf /tmp/aptconfInplaceReplace
		sed -i 's/Acquire::http::Proxy "[a-zA-Z0-9:/.-]*";/Acquire::http::Proxy "";/g' /tmp/aptconfInplaceReplace
		sed -i 's/Acquire::https::Proxy "[a-zA-Z0-9:/.-]*";/Acquire::https::Proxy "";/g' /tmp/aptconfInplaceReplace
		cat /tmp/aptconfInplaceReplace > /etc/apt/apt.conf
		rm /tmp/aptconfInplaceReplace
	fi
}


alias activatePy2nest="source ~/venvs/py2nest/bin/activate; source ~/venvs/py2nest/nest/bin/nest_vars.sh"

if [ -x /usr/bin/mint-fortune ]; then
     #/usr/bin/mint-fortune
fi

function correctSinkForChangingVolume () {
	tmpString=$(pactl list sinks | grep --context=2 bluez | grep -P "Sink #[0-9]*" | grep -oP "[0-9]*")
	if [ -z $tmpString ] ; then
		echo 0
	else
		echo $tmpString
	fi
}
alias correctSinkSet='pactl set-default-sink $(correctSinkForChangingVolume)'

function convertSVGsToeps() {
	echo "Using the command 'inkscape -f [File] --export-latex -E [NewFile]'"
	for file in $(ls *.svg); do
		newFile=${file/.svg/.eps}
		if [ -f $newFile ]; then
			echo "> File $file already converted"
			continue
		else
			echo "Converting File $file to $newFile"
			inkscape -f $file --export-latex -E $newFile
		fi
	done
}
